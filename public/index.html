<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>김동명, 남예빈 결혼식 초대합니다.</title>
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/style.scss" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.css"
    />
    <link rel="stylesheet" href="/styles/vendor/jquery.fancybox.min.css" />

    <!-- 팬시박스 / 제이쿼리 -->
    <script src="/scripts/vendor/jquery.fancybox.min.js"></script>
    <script src="./lib/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.umd.js"></script>

    <!-- 카카오지도 -->
    <script
      charset="UTF-8"
      class="daum_roughmap_loader_script"
      src="https://ssl.daumcdn.net/dmaps/map_js_init/roughmapLoader.js"
    ></script>

    <!-- 만든 스크립트 -->
    <script src="js/wedding.js"></script>
    <script src="js/header.js"></script>
    <script src="js/scroll.js"></script>
    <script src="js/cont05_popup.js"></script>
    <script src="js/dropdown.js"></script>
  </head>
  <body>
    <div id="wrap">
      <header id="header">
        <div class="inner">
          <figure>
            <img src="img/main_bg.png" alt="">
          </figure>

          <div class="drawsvg">
            <svg version="1.1" viewBox="0 0 700 300">
              <symbol id="fade-text">
                <text x="30%" y="50%" text-anchor="middle">Our</text>
                <text x="72%" y="70%" text-anchor="middle">days !</text>
              </symbol>
              <g>
                <use class="stroke" xlink:href="#fade-text"/>
                <use class="fill" xlink:href="#fade-text"/>
              </g>
            </svg>          
            </div>

            <div id="particles-js"></div>

            <script src="particles.js"></script>
        </div>
        <!-- inner -->
      </header>
      <!-- header end -->

      <main id="main">
        <!-- 소개 -->
        <section id="cont01" class="fade-in">
          <div class="cont01_img">
            <figure>
              <img src="img/wedding.png" alt="" />
            </figure>
          </div>
          <!-- cont01_img -->

          <div class="cont01_text">
            <div class="text01">
              그 어떤 <span>동</span>행으로도 표현할 수 없이<br />
              서로에게 <span>명</span>확히 다가온 사랑은 참 아름답습니다.<br />
              주님이 우리에게 주신 하루하루라는 선물을<br />
              함께 풀어보며 <span>예</span>쁜 사랑과 <span>빈</span>틈없는
              믿음으로<br />
              아름답게 살아가겠습니다.<br />
            </div>
            <!-- text01 -->

            <div class="text02">
              <p><span>김환순 • 서혜자</span> 의 차남 <span>김동명</span></p>
              <p><span>남진원 • 박미정</span> 의 장녀 <span>남예빈</span></p>
            </div>
            <!-- text02 -->
          </div>
          <!-- cont01_text -->

          <div class="call">
            <button>
              <p>연락하기</p>
            </button>
          </div>
          <!-- call -->

          <div class="call_popup" style="display: none">
            <div class="inner">
              <div class="popup_header">
                <p>연락하기</p>
              </div>
              <!-- popup_header -->

              <div class="popup_text">
                <div class="popup_sx">
                  <div>
                    <span>신랑</span>
                    <span>김동명</span>
                    <span>
                      <a>
                        <figure class="popup_call">
                          <img src="img/call_2.png" alt="전화하기" />
                        </figure>
                        <figure>
                          <img src="img/massege.png" alt="문자하기" />
                        </figure>
                      </a>
                    </span>
                  </div>

                  <div>
                    <span>신랑 아버지</span>
                    <span>김환순</span>
                    <span>
                      <a>
                        <figure class="popup_call">
                          <img src="img/call_2.png" alt="전화하기" />
                        </figure>
                        <figure>
                          <img src="img/massege.png" alt="문자하기" />
                        </figure>
                      </a>
                    </span>
                  </div>

                  <div class="last">
                    <span>신랑 어머니</span>
                    <span>서혜자</span>
                    <span>
                      <a>
                        <figure class="popup_call">
                          <img src="img/call_2.png" alt="전화하기" />
                        </figure>
                        <figure>
                          <img src="img/massege.png" alt="문자하기" />
                        </figure>
                      </a>
                    </span>
                  </div>
                </div>
                <!-- man -->

                <div class="popup_sx">
                  <div>
                    <span>신부</span>
                    <span>남예빈</span>
                    <span>
                      <a>
                        <figure class="popup_call">
                          <img src="img/call_2.png" alt="전화하기" />
                        </figure>
                        <figure>
                          <img src="img/massege.png" alt="문자하기" />
                        </figure>
                      </a>
                    </span>
                  </div>

                  <div>
                    <span>신부 아버지</span>
                    <span>남진원</span>
                    <span>
                      <a>
                        <figure class="popup_call">
                          <img src="img/call_2.png" alt="전화하기" />
                        </figure>
                        <figure>
                          <img src="img/massege.png" alt="문자하기" />
                        </figure>
                      </a>
                    </span>
                  </div>

                  <div class="last_2">
                    <span>신부 어머니</span>
                    <span>박미정</span>
                    <span>
                      <a>
                        <figure class="popup_call">
                          <img src="img/call_2.png" alt="전화하기" />
                        </figure>
                        <figure>
                          <img src="img/massege.png" alt="문자하기" />
                        </figure>
                      </a>
                    </span>
                  </div>
                </div>
                <!-- man -->
              </div>
              <!-- popup_text -->
            </div>
            <!-- inner -->
          </div>
          <!-- call_popup -->
        </section>
        <!-- cont01 end -->

        <!-- 달력 -->
        <section id="cont02" class="fade-in">
          <div class="inner">
            <h1>THE WEDDING DAY</h1>

            <div class="month">
              <span>1</span>
              <span>2</span>
              <span>3</span>
              <span>4</span>
              <span>5</span>
            </div>
            <!-- month -->

            <div class="month_2">
              <div class="month_text">
                <span class="red">일</span>
                <span>월</span>
                <span>화</span>
                <span>수</span>
                <span>목</span>
                <span>금</span>
                <span>토</span>
              </div>
              <!-- month_text -->

              <div class="month_day">
                <div class="day day_1">
                  <span class="red">1</span>
                </div>
                <!-- day_1 -->

                <div class="day day_2">
                  <span class="red">2</span>
                  <span class="red">3</span>
                  <span>4</span>
                  <span>5</span>
                  <span>6</span>
                  <span>7</span>
                  <span class="wedding">8</span>
                  <p class="heart">
                    <img src="img/love.png" alt="" />
                  </p>
                </div>
                <!-- day_2 -->

                <div class="day day_3">
                  <span class="red">9</span>
                  <span>10</span>
                  <span>11</span>
                  <span>12</span>
                  <span>13</span>
                  <span>14</span>
                  <span>15</span>
                </div>
                <!-- day_3 -->

                <div class="day day_4">
                  <span class="red">16</span>
                  <span>17</span>
                  <span>18</span>
                  <span>19</span>
                  <span>20</span>
                  <span>21</span>
                  <span>22</span>
                </div>
                <!-- day_4 -->

                <div class="day day_5">
                  <span class="red">23</span>
                  <span>24</span>
                  <span>25</span>
                  <span>26</span>
                  <span>27</span>
                  <span>28</span>
                  <span>29</span>
                </div>
                <!-- day_5 -->

                <div class="day day_6">
                  <span class="red">30</span>
                  <span>31</span>
                </div>
                <!-- day_6 -->
              </div>
              <!-- month_day -->
            </div>
            <!-- month_2 -->

            <div class="wedding_day">
              <h2>우리의 예식까지 남은 시간</h2>
              <h3 id="remain-time"></h3>
            </div>
            <!-- wedding_day -->
          </div>
          <!-- inner -->
        </section>
        <!-- cont02 -->

        <!-- 갤러리 -->
        <section id="cont03" class="fade-in">
          <div class="inner">
            <p>갤러리</p>

            <div class="swiper mySwiper">
              <div class="swiper-wrapper">
                <div class="swiper-slide">
                  <a href="img/1.png" data-fancybox="gallery">
                    <img src="img/1.png" alt="" />
                  </a>
                </div>
                <!-- swiper-slide -->
                <div class="swiper-slide">
                  <a href="img/2.png" data-fancybox="gallery">
                    <img src="img/2.png" alt="" />
                  </a>
                </div>
                <!-- swiper-slide -->
                <div class="swiper-slide">
                  <a href="img/3.png" data-fancybox="gallery">
                    <img src="img/3.png" alt="" />
                  </a>
                </div>
                <!-- swiper-slide -->
                <div class="swiper-slide">
                  <a href="img/4.jpg" data-fancybox="gallery">
                    <img src="img/4.jpg" alt="" />
                  </a>
                </div>
                <!-- swiper-slide -->
                <div class="swiper-slide">
                  <a href="img/5.png" data-fancybox="gallery">
                    <img src="img/5.png" alt="" />
                  </a>
                </div>
                <!-- swiper-slide -->
                <div class="swiper-slide">
                  <a href="img/5-1.png" data-fancybox="gallery">
                    <img src="img/5-1.png" alt="" />
                  </a>
                </div>
                <!-- swiper-slide -->
                <div class="swiper-slide">
                  <a href="img/6.png" data-fancybox="gallery">
                    <img src="img/6.png" alt="" />
                  </a>
                </div>
                <!-- swiper-slide -->
                <div class="swiper-slide">
                  <a href="img/7.png" data-fancybox="gallery">
                    <img src="img/7.png" alt="" />
                  </a>
                </div>
                <!-- swiper-slide -->
                <div class="swiper-slide">
                  <a href="img/8.png" data-fancybox="gallery">
                    <img src="img/8.png" alt="" />
                  </a>
                </div>
                <!-- swiper-slide -->
                <div class="swiper-slide">
                  <a href="img/9.png" data-fancybox="gallery">
                    <img src="img/9.png" alt="" />
                  </a>
                </div>
                <!-- swiper-slide -->
                <div class="swiper-slide">
                  <a href="img/010.png" data-fancybox="gallery">
                    <img src="img/010.png" alt="" />
                  </a>
                </div>
                <!-- swiper-slide -->
                <div class="swiper-slide">
                  <a href="img/011.png" data-fancybox="gallery">
                    <img src="img/011.png" alt="" />
                  </a>
                </div>
                <!-- swiper-slide -->
                <div class="swiper-slide">
                  <a href="img/012.png" data-fancybox="gallery">
                    <img src="img/012.png" alt="" />
                  </a>
                </div>
                <!-- swiper-slide -->
                <div class="swiper-slide">
                  <a href="img/013.png" data-fancybox="gallery">
                    <img src="img/013.png" alt="" />
                  </a>
                </div>
                <!-- swiper-slide -->
                <div class="swiper-slide">
                  <a href="img/014.png" data-fancybox="gallery">
                    <img src="img/014.png" alt="" />
                  </a>
                </div>
                <!-- swiper-slide -->
                <div class="swiper-slide">
                  <a href="img/015.png" data-fancybox="gallery">
                    <img src="img/015.png" alt="" />
                  </a>
                </div>
                <!-- swiper-slide -->
                <div class="swiper-slide">
                  <a href="img/016.png" data-fancybox="gallery">
                    <img src="img/016.png" alt="" />
                  </a>
                </div>
                <!-- swiper-slide -->
                <div class="swiper-slide">
                  <a href="img/017.png" data-fancybox="gallery">
                    <img src="img/017.png" alt="" />
                  </a>
                </div>
                <!-- swiper-slide -->
                <div class="swiper-slide">
                  <a href="img/018.png" data-fancybox="gallery">
                    <img src="img/018.png" alt="" />
                  </a>
                </div>
                <!-- swiper-slide -->
                <div class="swiper-slide">
                  <a href="img/019.png" data-fancybox="gallery">
                    <img src="img/019.png" alt="" />
                  </a>
                </div>
                <!-- swiper-slide -->
                <div class="swiper-slide">
                  <a href="img/020.png" data-fancybox="gallery">
                    <img src="img/020.png" alt="" />
                  </a>
                </div>
                <!-- swiper-slide -->
                <div class="swiper-slide">
                  <a href="img/021.png" data-fancybox="gallery">
                    <img src="img/021.png" alt="" />
                  </a>
                </div>
                <!-- swiper-slide -->
                <div class="swiper-slide">
                  <a href="img/UL__5051.png" data-fancybox="gallery">
                    <img src="img/UL__5051.png" alt="" />
                  </a>
                </div>
                <!-- swiper-slide -->
                <div class="swiper-slide">
                  <a href="img/UL__5102.png" data-fancybox="gallery">
                    <img src="img/UL__5102.png" alt="" />
                  </a>
                </div>
                <!-- swiper-slide -->
                <div class="swiper-slide">
                  <a href="img/024.png" data-fancybox="gallery">
                    <img src="img/024.png" alt="" />
                  </a>
                </div>
                <!-- swiper-slide -->
                <div class="swiper-slide">
                  <a href="img/UL__5143.png" data-fancybox="gallery">
                    <img src="img/UL__5143.png" alt="" />
                  </a>
                </div>
                <!-- swiper-slide -->
                <div class="swiper-slide">
                  <a href="img/026.png" data-fancybox="gallery">
                    <img src="img/026.png" alt="" />
                  </a>
                </div>
                <!-- swiper-slide -->
                <div class="swiper-slide">
                  <a href="img/027.png" data-fancybox="gallery">
                    <img src="img/027.png" alt="" />
                  </a>
                </div>
                <!-- swiper-slide -->
                <div class="swiper-slide">
                  <a href="img/028.png" data-fancybox="gallery">
                    <img src="img/028.png" alt="" />
                  </a>
                </div>
                <!-- swiper-slide -->
              </div>
              <!-- swiper-wrapper -->
              <div class="swiper-button-next"></div>
              <div class="swiper-button-prev"></div>
              <div class="swiper-pagination"></div>
            </div>
          </div>
          <!-- inner -->
        </section>
        <!-- cont03 -->

        <!-- 갤러리 -->
        <section id="cont04" class="fade-in">
          <div class="inner">
            <h1>오시는 길</h1>

            <div class="location">
              <h2>센텀사이언스파크 23층 스카이홀</h2>
              <p>부산 해운대구 센텀중앙로 79</p>
            </div>
            <!-- location -->

            <div
              id="daumRoughmapContainer1730163576462"
              class="root_daum_roughmap root_daum_roughmap_landing"
            ></div>

            <div class="traffic">
              <div class="subway">
                <h1>지하철</h1>

                <span>• 2호선 센텀시티역 6번출구(도보 800m 직진)</span>
              </div>
              <!-- subway -->

              <div class="bus">
                <h1>버스</h1>

                <div>
                  <span>• 센텀시티역 벡스코 하차</span>
                  <p>- 5-1, 39, 40, 63, 141, 155, 1001, 1002, 107</p>
                </div>
                <div>
                  <span>• SK텔레콤 정류소 하차</span>
                  <p>- 115, 181, 307, 해운대구 3-1, 해운대구 3-2</p>
                </div>
              </div>
              <!-- bus -->

              <div class="free_bus">
                <h1>셔틀 운행</h1>

                <span>• 센텀시티역 4번출구 앞 셔틀버스 운행(15분 간격)</span>
              </div>
              <!-- free_bus -->

              <div class="car">
                <h1>주차</h1>

                <span>• 웨딩홀 주차장</span>
                <div>
                  <span>• knn 외부 주차장 이용가능</span>
                  <p>- 식사 여부 관계 없이 3시간 지원</p>
                </div>
              </div>
              <!-- car -->
            </div>
            <!-- traffic -->
          </div>
          <!-- inner -->
        </section>
        <!-- cont04 -->

        <section id="guestbook">
          <div id="first_text">
            <h1>방명록</h1>
            <div id="guestbook-list"></div>
            <button class="first_btn">
              <p>작성하기</p>
            </button><!-- first_btn -->
          </div>

          <!-- 방명록 작성 폼 -->
          <form id="guestbook-form" style="display: none;">
            <h2>방명록</h2>

            <div>
              <label for="name">이  름  :</label>
              <input type="text" id="name" maxlength="10" required />
              <p id="name-char-count">0/10</p>
            </div>
            <div>
              <label for="password">비밀번호&nbsp;&nbsp;  :</label>
              <input type="password" id="password" maxlength="4" required />
              <p id="password-char-count">0/4</p>
            </div>
            <div>
              <div>
                <label for="message">메시지  :</label>
                <textarea id="message" maxlength="200" required></textarea>
              </div>
              <p id="message-char-count">0/200</p>
            </div>
            <button type="submit" id="close-btn">작성</button>
          </form>

          <!-- 방명록 목록 -->
          <div id="pagination-container"></div>
        </section>

        <!-- 비밀번호 확인 모달 -->
        <div id="password-modal" style="display: none">
          <div class="modal-content">
            <h3>비밀번호 확인</h3>
            <input
              type="password"
              id="modal-password"
              placeholder="비밀번호 입력"
            />
            <button id="confirm-delete">확인</button>
            <button id="cancel-delete">취소</button>
          </div>
        </div>

        <section id="cont06" class="fade-in">
          <div class="inner">
            <h1>마음 전하실 곳</h1>
            <p>참석이 어려우신 분들을 위해 기재했습니다.<br />
            너그러운 마음으로 양해부탁드립니다.</p>

            <div class="man_dropdown">
              <button class="dropdown-button">신랑측에게</button>
              <div class="dropdown-content">
                <div class="man_son">
                  <div>
                    <p>신랑</p>
                    <p>김동명</p>
                  </div>

                  <div id="btn_bank">
                    <div>
                      <p>하나은행</p>
                      <p>272-910239-70007</p>
                    </div>

                    <div>
                      <svg width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.466 7.89258H9.47055C8.612 7.89258 7.91602 8.58857 7.91602 9.44711V16.4425C7.91602 17.3011 8.612 17.997 9.47055 17.997H16.466C17.3245 17.997 18.0205 17.3011 18.0205 16.4425V9.44711C18.0205 8.58857 17.3245 7.89258 16.466 7.89258Z" stroke="#444444" stroke-linecap="round" stroke-linejoin="round">
                        </path>
                        <path d="M4.35328 12.1045H3.57602C3.16373 12.1045 2.76833 11.9407 2.4768 11.6492C2.18527 11.3576 2.02148 10.9622 2.02148 10.5499V3.55453C2.02148 3.14225 2.18527 2.74684 2.4768 2.45531C2.76833 2.16378 3.16373 2 3.57602 2H10.5714C10.9837 2 11.3791 2.16378 11.6706 2.45531C11.9622 2.74684 12.126 3.14225 12.126 3.55453V4.3318" stroke="#444444" stroke-linecap="round" stroke-linejoin="round">
                        </path>
                      </svg>
                      <a href="https://toourguest.com" target="_blank" class="flex items-center ml-2">
                        <svg width="39" height="20" viewBox="0 0 39 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M2.75179 12.7805C2.42295 12.5582 2.12849 12.3807 1.85694 12.1733C-0.576705 10.3137 -0.591601 7.24411 1.82027 5.35586C4.17829 3.50886 8.02468 3.55469 10.3426 5.45784C12.6032 7.31286 12.5872 10.2758 10.2876 12.0908C8.85766 13.2194 7.2043 13.6078 5.40542 13.4898C5.14647 13.4726 4.8417 13.5471 4.62056 13.6823C3.9858 14.0672 3.3877 14.5141 2.76096 14.9151C2.63836 14.993 2.45274 14.9736 2.29692 14.9988C2.29233 14.8567 2.25681 14.7066 2.28889 14.5737C2.43097 13.9825 2.59253 13.3958 2.75408 12.7805H2.75179Z" fill="#444444">
                          </path>
                          <path d="M21.783 6.41573C21.3155 4.81966 20.0678 3.98553 18.4362 4.25364C17.8037 4.35676 17.2102 4.69935 16.5903 4.93538C16.3119 4.39801 15.8318 4.27541 14.8018 4.54696V15.6828H17.0303V12.7301C17.2262 12.7714 17.3179 12.7932 17.4096 12.8081C19.5739 13.1644 21.3018 12.0381 21.854 9.91266C22.1577 8.74053 22.121 7.56839 21.783 6.41573ZM19.5338 9.75225C19.3161 10.8602 18.4637 11.2498 17.0337 11.0481C17.0337 9.53799 17.0303 8.05535 17.0429 6.57385C17.0441 6.47073 17.1414 6.32751 17.2354 6.27251C18.1578 5.72941 19.4089 6.1522 19.5716 7.16508C19.7057 8.00723 19.6977 8.91583 19.5338 9.75225Z" fill="#444444">
                          </path>
                          <path d="M32.1275 14.8652C32.6098 14.2923 33.0464 13.7664 33.4921 13.2485C33.8232 12.8635 33.853 12.4865 33.6651 11.9939C32.8356 9.82489 32.053 7.63759 31.2544 5.45717C31.1776 5.24863 31.1157 5.03437 31.0264 4.75824C31.7917 4.55315 32.4964 4.36524 33.2572 4.16129C33.8519 6.2088 34.4293 8.19329 35.0515 10.3313C35.6691 8.18413 36.2443 6.18588 36.8355 4.13379C37.586 4.34003 38.2757 4.52908 38.9999 4.7273C38.9758 4.86594 38.9724 4.97594 38.9368 5.07333C38.0523 7.50697 37.1838 9.94634 36.2695 12.3674C35.7802 13.6621 35.0859 14.8411 34.0031 15.7543C33.6582 16.0453 33.3878 16.1232 33.0533 15.7291C32.7851 15.4129 32.446 15.1562 32.1286 14.864L32.1275 14.8652Z" fill="#444444">
                          </path>
                          <path d="M29.9228 6.83129C29.8174 5.21459 28.7473 4.24755 27.1752 4.25099C26.2632 4.25328 25.3282 4.4641 24.4483 4.72763C23.5935 4.98314 23.6176 5.06564 23.967 5.91351C24.0667 6.15642 24.1721 6.39589 24.2856 6.66286C24.5067 6.5838 24.6786 6.49099 24.8596 6.46234C25.5127 6.35693 26.1704 6.18736 26.8223 6.2034C27.5934 6.22288 27.9177 6.7465 27.7779 7.65052C27.1535 7.65052 26.505 7.6024 25.8656 7.66083C24.7874 7.76051 23.8066 8.13519 23.4366 9.25805C23.1031 10.2732 23.118 11.3354 23.9212 12.1557C24.7634 13.0151 25.8301 13.0116 26.9037 12.6427C27.3265 12.4972 27.7206 12.2715 28.1297 12.0813C28.4963 13.0815 29.2984 12.4399 29.9526 12.6759C29.9526 10.6387 30.0477 8.72755 29.9228 6.83129ZM27.8639 9.51127C27.8192 9.87104 27.8822 10.4233 27.6817 10.5482C27.2234 10.8369 26.6424 10.9847 26.0936 11.0581C25.6571 11.1165 25.3638 10.7934 25.2996 10.3339C25.232 9.83896 25.5482 9.31649 26.065 9.21566C26.6321 9.10452 27.2176 9.09306 27.8444 9.03233C27.857 9.2844 27.8787 9.40013 27.8639 9.51127Z" fill="#444444">
                          </path>
                        </svg>
                      </a>
                    </div>
                  </div><!-- btn_bank -->
                </div><!-- man_son -->
              </div>
            </div><!-- man_dropdowm -->
          </div><!-- inner -->
        </section><!-- cont06 -->
      </main>
      <!-- main -->
    </div>
    <!-- wrap end -->

    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

    <!-- Initialize Swiper -->
    <script>
      var swiper = new Swiper(".mySwiper", {
        loop: true,
        slidesPerView: "auto",
        centeredSlides: true,
        spaceBetween: 0,
        pagination: {
          el: ".swiper-pagination",
          type: "fraction",
        },
        navigation: {
          nextEl: ".swiper-button-next",
          prevEl: ".swiper-button-prev",
        },
      });

      Fancybox.bind("[data-fancybox]", {});

      new daum.roughmap.Lander({
        timestamp: "1730163576462",
        key: "2m37k",
        mapWidth: "640",
        mapHeight: "360",
      }).render();
    </script>

    <script type="module">
      import { setupInputListeners } from "./js/main.js";
      import {
        submitGuestbook,
        displayGuestbookWithCustomPagination,
        listGuestbook,
        deleteGuestbook,
      } from "./js/firebase.js";

      // 입력 리스너 설정
      setupInputListeners();

      const guestbookForm = document.getElementById("guestbook-form");
      const guestbookList = document.getElementById("guestbook-list");
      const passwordModal = document.getElementById("password-modal");
      const modalPassword = document.getElementById("modal-password");
      const confirmDelete = document.getElementById("confirm-delete");
      const cancelDelete = document.getElementById("cancel-delete");

      let currentDeleteId = null; // 삭제할 항목의 ID 저장

      // 방명록 작성 이벤트
      guestbookForm.addEventListener("submit", (e) => {
        e.preventDefault();
        const name = document.getElementById("name").value;
        const message = document.getElementById("message").value;
        const password = document.getElementById("password").value;

        if (name && message && password) {
          submitGuestbook(name, message, password, (success) => {
            if (success) {
              alert("방명록이 저장되었습니다!");
              guestbookForm.reset();
            } else {
              alert("방명록 저장에 실패했습니다. 다시 시도해주세요.");
            }
          });
        } else {
          alert("모든 필드를 입력해주세요!");
        }
      });

      // 방명록 표시 함수
      function displayGuestbook(messages) {
        guestbookList.innerHTML = ""; // 기존 목록 초기화
        if (messages.length > 0) {
          messages.forEach((msg) => {
            const item = document.createElement("div");
            item.innerHTML = `
        <p><strong>${msg.name}</strong> - ${msg.timestamp}</p>
        <p>${msg.message}</p>
        <button class="delete-button" onclick="openDeleteModal('${msg.id}')">X</button>
      `;
            guestbookList.appendChild(item);
          });
        } else {
          guestbookList.innerHTML =
            "<p>방명록이 비어 있습니다. 첫 글을 작성해 주세요!</p>";
        }
      }

      // 삭제 버튼 클릭 시 모달 열기
      window.openDeleteModal = (id) => {
        currentDeleteId = id; // 삭제할 항목의 ID 저장
        modalPassword.value = ""; // 입력 필드 초기화
        passwordModal.style.display = "flex"; // 모달 열기
      };

      // 모달의 확인 버튼 클릭 시 삭제 실행
      confirmDelete.addEventListener("click", () => {
        const password = modalPassword.value;
        if (currentDeleteId && password) {
          deleteGuestbook(currentDeleteId, password, (success) => {
            if (success) {
              alert("방명록이 삭제되었습니다!");
            } else {
              alert("비밀번호가 일치하지 않습니다.");
            }
            passwordModal.style.display = "none"; // 모달 닫기
          });
        }
      });

      // 모달의 취소 버튼 클릭 시 모달 닫기
      cancelDelete.addEventListener("click", () => {
        passwordModal.style.display = "none"; // 모달 닫기
      });

      // 방명록 데이터 가져오기 및 렌더링
      listGuestbook((messages) => {
        if (messages.length > 0) {
          displayGuestbookWithCustomPagination(messages);
        } else {
          const guestbookList = document.getElementById("guestbook-list");
          guestbookList.innerHTML =
            "<p>방명록이 비어 있습니다. 첫 글을 작성해 주세요!</p>";
        }
      });

      Fancybox.bind("[data-fancybox]", {
        zoom: false, // 확대 비활성화
        dragToClose: false, // 드래그하여 닫기 비활성화
        doubleClick: false, // 더블클릭 확대 비활성화
        wheel: false, // 마우스 휠 확대 비활성화
      });
    </script>
  </body>
</html>
